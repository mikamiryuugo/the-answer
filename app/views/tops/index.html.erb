<div class="container">

<div class="search">
  <%= form_tag(root_path, :method => :get) do %>
    <%= text_field_tag "keyword", params[:keyword], placeholder: 'キーワードで検索' %>
    <%= submit_tag "検索" %>
   <% end %>
</div>

<% if @posts.present? %>
<table class="table table-bordered border-primary table-hover table-sm posts_table">
  <thead class="bg-info text-light">
    <tr>
      <th scope="col">質問内容</th>
      <th scope="col">回答例</th>
    </tr>
  </thead>
  <tbody>
    <% @posts.each do |post| %>
      <tr>
        <th><%= post.question_title %></th>
        <% if current_user %>
          <td><%= truncate(post.answer, length: 20) do %>
            <p><%= link_to '詳細をみる', post_path(post.id) %><p>
          <% end %>
        <% else %>
           <td class="before_login_answers"><%= truncate(post.answer, length: 20) do %>
             <p><%= link_to 'ログインして詳細をみる', new_user_registration_path %><p>
           <% end %>
        <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<% end %>
</div>